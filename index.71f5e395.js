var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},t={},e=a.parcelRequire8a95;null==e&&((e=function(a){if(a in n)return n[a].exports;if(a in t){var e=t[a];delete t[a];var o={id:a,exports:{}};return n[a]=o,e.call(o.exports,o,o.exports),o.exports}var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(a,n){t[a]=n},a.parcelRequire8a95=e),e("g7hbw");var o=e("19F3f");o=e("19F3f");const s={openModal:document.querySelector("[data-modal-open]"),closeModal:document.querySelector("[data-modal-close]"),backdrop:document.querySelector("[data-modal]"),upcomingWrapLi:document.querySelector(".upcoming_modal")};function i(){window.removeEventListener("keydown",d),s.backdrop.classList.add("is-hidden")}function d(a){"Escape"===a.code&&i()}s.openModal.addEventListener("click",(function(a){if(console.log(a.target),a.target.classList.contains("is-id")){!async function(a){!function(a){console.log(a);const{poster_path:n,backdrop_path:t,genres:e,overview:o,popularity:i,title:d,vote_average:r,vote_count:c}=a,l=e.map((a=>a.name)).join(", "),p=`\n    <div class="modal-card">\n      <img\n        class="modal-img"\n        src="https://image.tmdb.org/t/p/original/${null!==n?`https://image.tmdb.org/t/p/original/${n}`:`https://image.tmdb.org/t/p/original/${t}`}"\n        alt=" "\n      />\n\n      <div class="modal-card-wrap">\n        <h3 class="modal-card-title">${d}</h3>\n\n          <div class="modal-card-vote-wrap">\n            <div class="modal-card-vote"><span>Vote / Votes</span></div>\n            <div class="modal-card-vote-data">\n              <span>${r}</span> / <span>${c}</span>\n            </div>\n          </div>\n        \n          <div class="modal-card-popularity-wrap">\n            <span class="modal-card-popularity-text">Popularity</span>\n            <span class="modal-card-popularity-data"\n              >${i.toFixed(1)}</span\n            >\n          </div>\n\n          <div class="modal-card-genre-wrap">\n            <span class="modal-card-genre-text">Genre</span>\n            <span class="modal-card-genre-data">${l}</span>\n          </div>\n        \n        <span class="modal-card-about-title">About</span>\n\n        <p class="modal-card-about-text">${o}</p>\n\n        <button class="modal-button" type="button">Add to my library</button>\n      </div>\n    </div>`;s.upcomingWrapLi.innerHTML=p}(await(0,o.getInfoByMovie)(a))}(a.target.dataset.id)}window.addEventListener("keydown",d),s.backdrop.classList.remove("is-hidden")})),s.closeModal.addEventListener("click",i),s.backdrop.addEventListener("click",(function(a){a.currentTarget===a.target&&i()}));o=e("19F3f"),o=e("19F3f"),o=e("19F3f");const r=document.querySelector(".weekly-cards-wrap"),c=document.querySelector(".upcoming_wrap");async function l(a){const n=(await(0,o.getGenre)()).genres;return a.map((a=>{const t=n.find((n=>n.id===a));return t?t.name:""})).join(", ")}document.querySelector(".weekly-title-link").addEventListener("click",(()=>{location.href="catalog.html"})),window.addEventListener("DOMContentLoaded",(async function(){const{formattedStartDate:a,formattedEndDate:n}=function(){const a=new Date,n=a.getFullYear(),t=String(a.getMonth()+1).padStart(2,"0"),e=String(a.getDate()).padStart(2,"0"),o=`${n}-${t}-${e}`,s=new Date(n,t,1),i=new Date(s-1).getDate(),d=String(i).padStart(2,"0");return{formattedStartDate:o,formattedEndDate:`${n}-${t}-${d}`}}();try{const t=await(0,o.getUpcoming)(a,n);!async function(a){console.log(a);const{backdrop_path:n,genre_ids:t,popularity:e,release_date:o,title:s,vote_average:i,vote_count:d,overview:r}=a,p=await l(t),u=`<div class="upcoming-card">\n\n            <img class="upcoming-card-img" src="https://image.tmdb.org/t/p/original/${n}" alt=" " />\n\n          <div class="upcoming-card-wrap">\n            <h3 class="upcoming-card-title">${s}</h3>\n\n            <div class="upcoming-card-numbers-wrap-top">\n              <div class="upcoming-card-release-wrap">\n                <span class="upcoming-card-release-text">Release date</span>\n                <span class="upcoming-card-release-data">${o}</span>\n              </div>\n\n              <div class="upcoming-card-vote-wrap">\n                <div class="upcoming-card-vote"><span>Vote / Votes</span></div>\n                <div class="upcoming-card-vote-data">\n                  <span>${i}</span> / <span>${d}</span>\n                </div>\n              </div>\n            </div>\n\n            <div class="upcoming-card-numbers-wrap-down">\n              <div class="upcoming-card-popularity-wrap">\n                <span class="upcoming-card-popularity-text">Popularity</span>\n                <span class="upcoming-card-popularity-data">${e.toFixed(1)}</span>\n              </div>\n\n              <div class="upcoming-card-genre-wrap">\n                <span class="upcoming-card-genre-text">Genre</span>\n                <span class="upcoming-card-genre-data">${p}</span>\n              </div>\n            </div>\n\n            <span class="upcoming-card-about-title">About</span>\n\n            <p class="upcoming-card-about-text">${r}</p>\n\n            <button class="upcoming-button" type="button">\n              Add to my library\n            </button>\n          </div>\n        </div>`;c.insertAdjacentHTML("beforeend",u)}(function(a){const n=Math.floor(Math.random()*a.length);return a[n]}(t.results))}catch(a){console.log(a.message)}})),window.addEventListener("DOMContentLoaded",(async function(){const a=(await(0,o.getWeeklyTrending)()).results.slice(0,3);console.log(a),async function(a){const n=await Promise.all(a.map((async({backdrop_path:a,title:n,release_date:t,genre_ids:e,id:o,poster_path:s,name:i,first_air_date:d})=>`<li class="weekly-card" >\n        <div class="weekly-container-image">\n          <img\n            class="weekly-card-image"\n           src="https://image.tmdb.org/t/p/original/${s}"\n            alt=""\n          />\n         <div class="overlay is-id" data-id=${o}></div>       \n        </div>\n        <div class="weekly-card-description">\n          <span class="weekly-card-description-title">${n||i}</span>\n          <span class="weekly-card-description-other">${await l(e)} | ${t?t.substring(0,4):d.substring(0,4)}</span>\n        </div>\n        <div class="weekly-card-raiting">Stars5*</div>\n      </li>`)));r.innerHTML=n.join("")}(a)})),e("7Yg6P"),e("2tESM");
//# sourceMappingURL=index.71f5e395.js.map
