!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},i=n.parcelRequire8a95;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in r){var n=r[e];delete r[e];var i={id:e,exports:{}};return t[e]=i,n.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,n){r[e]=n},n.parcelRequire8a95=i),i("i6wQM"),i("hVzVa");var a=i("bpxeT"),s=i("2TvXO"),o=i("jyO6b");(0,(o=i("jyO6b")).getTrending)().then((function(e){return localStorage.setItem("test",JSON.stringify(e.results))}));var c,u,l=function(){try{var e=localStorage.getItem("test");return JSON.parse(e)}catch(e){console.error(e)}}(),d=l.flatMap((function(e){return e.genre_ids})),f=(a=i("bpxeT"),s=i("2TvXO"),{libSelectEl:document.getElementById("js-genre-select"),libMoviesListEl:document.getElementById("js-lib-list"),libLoadMoreBtn:document.getElementById("js-loadMore-btn")}),p=f.libSelectEl,v=f.libMoviesListEl,b=(c=e(a)(e(s).mark((function n(t){var r,i,a,o,c,u,l,d,f,p;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.title,i=t.name,a=t.release_date,o=t.first_air_date,c=t.genre_ids,u=t.poster_path,l=t.vote_average,e.next=3,T(c);case 3:return d=e.sent,f=r||i,p=a||o,e.abrupt("return",' <li class="mylibrary_movie is-id">\n  <div class="mylibrary_poster">\n  <img src="https://image.tmdb.org/t/p/original'.concat(u,'" alt="').concat(f,'" />\n      <div class="mylibrary_move_dark"></div>\n  </div>\n  <h3 class="mylibrary_movies_name">').concat(f,'</h3>\n  <p class="mylibrary_genre_movie">').concat(d," | ").concat(p.substring(0,4),'</p>\n  <div class="hero-star-raiting" data-swiper-parallax="-350">\n      <span>\n          <div class="Stars" style="--rating: ').concat(l/2,'; " aria-label="Rating of this product is ').concat((l/2).toFixed(1),' out of 5.">\n      </span>\n  </div>\n</li>'));case 7:case"end":return e.stop()}}),n)}))),function(e){return c.apply(this,arguments)}),h=(u=e(a)(e(s).mark((function n(t){var r;return e(s).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all(t.map(function(){var n=e(a)(e(s).mark((function n(t){return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()));case 2:r=n.sent,v.insertAdjacentHTML("beforeend",r.join(" "));case 4:case"end":return n.stop()}}),n)}))),function(e){return u.apply(this,arguments)}),m=i("8MBJY"),g=i("a2hTj"),y=i("hKHmD"),w=function(){"use strict";function n(t){var r=t.btnEl,i=t.isHidden,a=void 0!==i&&i;e(m)(this,n),this.button=r,a&&this.hideBtn()}return e(g)(n,[{key:"getBtn",value:function(e){return document.querySelector(e)}},{key:"hideBtn",value:function(){this.button.classList.add(n.classes.hidden)}},{key:"showBtn",value:function(){this.button.classList.remove(n.classes.hidden)}},{key:"disableBtn",value:function(){this.button.disabled=!0,this.button.textContent="Loading..."}},{key:"enableBtn",value:function(){this.button.disabled=!1,this.button.textContent="Load more"}}]),n}();e(y)(w,"classes",{hidden:"lib-btn-hidden"});var x=f.libSelectEl,_=f.libMoviesListEl,B=f.libLoadMoreBtn,E=new w({btnEl:B}),L="1",k=0,M=function(){var n=e(a)(e(s).mark((function n(t){var r;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.getGenre)();case 2:return r=e.sent.genres,e.abrupt("return",r.filter((function(e){var n=e.id;return t.includes(n)})));case 4:case"end":return e.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),T=function(){var n=e(a)(e(s).mark((function n(t){var r,i;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(t);case 2:return r=e.sent,i=r.map((function(e){return e.name})),e.abrupt("return",i.slice(0,2).join(", "));case 5:case"end":return e.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),j=function(){var n=e(a)(e(s).mark((function n(t){var r;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(t);case 2:r=e.sent,n=void 0,n=r.map((function(e){return function(e){return'<option value="'.concat(e.id,'">').concat(e.name,"</option>")}(e)})),p.insertAdjacentHTML("beforeend",n.join(" "));case 4:case"end":return e.stop()}var n}),n)})));return function(e){return n.apply(this,arguments)}}(),O=function(e){var n=e.slice(k,k+9);k+=9,h(n)},S=function(e){I(e)},I=function(e){if("1"===e)O(l),H(l);else{var n=l.filter((function(n){return n.genre_ids.includes(parseInt(e))}));O(n),H(n)}},H=function(e){e.length<=k?E.hideBtn():E.showBtn()},C=function(){_.innerHTML=""};x.addEventListener("change",(function(){L=x.value,k=0,C(),S(L)})),window.addEventListener("load",e(a)(e(s).mark((function n(){return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(d);case 2:O(l);case 3:case"end":return e.stop()}}),n)})))),B.addEventListener("click",(function(){E.disableBtn(),S(L),E.enableBtn()})),i("h8OCG")}();
//# sourceMappingURL=my-lib-page.875266a9.js.map
