{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-c2b481c76dd3a690.js","src/catalog.js","src/partials/js/refs.js","node_modules/@swc/helpers/lib/_define_property.js","src/partials/js/catalog/createCards.js","src/partials/js/catalog/catalogUtils.js","node_modules/@parcel/runtime-js/lib/runtime-643dfc921be0cb37.js","src/partials/js/catalog/pagination.js","src/partials/js/catalog/catalogApi.js","src/partials/js/catalog/example.js","src/partials/js/catalog/clearInput.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"9NLH0\\\":\\\"catalog.440d36a1.js\\\",\\\"lp5u4\\\":\\\"sprite.486e8ae6.svg\\\",\\\"cUNoC\\\":\\\"catalog.e6872f05.css\\\",\\\"5b0U0\\\":\\\"my-lib-page.ceaa11fe.js\\\"}\"));","import './partials/js/hero/hero';\nimport './partials/js/catalog/example';\nimport '@fontsource/roboto/400.css';\nimport '@fontsource/roboto/500.css';\nimport '@fontsource/roboto/700.css';\nimport * as hero from './partials/js/hero/hero';\nimport * as modal from './partials/js/modal';\nimport * as catalog from './partials/js/catalog/example';\nimport * as header from './partials/js/header/header';\nimport * as upBtn from './partials/js/up-btn';\nimport * as clear from './partials/js/catalog/clearInput';\nimport * as footer from './partials/js/footer/footer';\n","const refs = {\n  pagination: document.getElementById('pagination'),\n  //_______Catalog_______\n  catalogSection: document.querySelector('.catalog'),\n  catalogFilms: document.querySelector('.catalog-films'),\n  searchForm: document.querySelector('.search-form'),\n  selectGenres: document.querySelector('#selectGenres'),\n  selectDate: document.querySelector('#selectDate'),\n  btnClear: document.querySelector('.search-clear-btn'),\n  input: document.getElementById('search-form'),\n  btnSearch: document.querySelector('.search-btn'),\n  inputIcon: document.querySelector('.input-icon'),\n  //____________________\n};\n\nexport { refs };\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _defineProperty;\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\n","import { refs } from '../refs';\n\nexport const createCards = dataCard => {\n  const errorModule = document.querySelector('.no-movie-found');\n  if (errorModule !== null) errorModule.remove();\n  const markup = dataCard\n    .map(card => {\n      return `<li data-id=\"${card.id}\" class=\"catalog-card is-id\">\n  <img\n    src=\"https://image.tmdb.org/t/p/original${card.poster}\"\n    alt=\"${card.title}\"\n    loading=\"lazy\"\n  />\n  <div class=\"catalog-overlay\"></div>\n  <div class=\"catalog-info\">\n    <h3 class=\"catalog-info-name\">${card.title}</h3>\n    <div class=\"catalog-info-date\">\n      <p class=\"catalog-info-details\">${card.genres} | ${card.date}</p>\n      <div\n        class=\"Stars stars-five\"\n        style=\"--rating: ${card.rating}\"\n        aria-label=\"Rating of this product is 2.3 out of 5.\"\n      ></div>\n    </div>\n  </div>\n</li>`;\n    })\n    .join('');\n  if (!markup.length) {\n    const errorMarkup = createSearchErrors();\n    refs.catalogFilms.insertAdjacentHTML('beforebegin', errorMarkup);\n    refs.catalogFilms.innerHTML = '';\n    return;\n  }\n  addHTML(markup);\n};\n\nconst createSearchErrors = () => {\n  const markupErrors = `<div class=\"no-movie-found\">\n    <p class=\"no-movie-found__text\">\n      <span class=\"no-movie-found__text-item\">OOPS...</span>\n      <span class=\"no-movie-found__text-item\">We are very sorry!</span>\n      <span class=\"no-movie-found__text-item\">\n        We don’t have any results matching your search.\n      </span>\n    </p>\n  </div>`;\n\n  return markupErrors;\n};\n\nfunction addHTML(cards) {\n  refs.catalogFilms.innerHTML = cards;\n}\n","import { fetchGenre } from './catalogApi';\nimport { createCards } from './createCards';\n\nconst createDataCards = async moviesData => {\n  const genre = await fetchGenre();\n  const newCardsDate = moviesData.map(\n    ({ id, title, poster_path, vote_average, genre_ids, release_date }) => {\n      return {\n        id: id,\n        title: title,\n        poster: poster_path,\n        rating: vote_average,\n        genres: createGenreStr(genre, genre_ids),\n        date: createMovieDate(release_date),\n      };\n    }\n  );\n  createCards(newCardsDate);\n};\n\nconst createGenreStr = (genre, genre_ids) => {\n  const genres = [];\n  genre.map(({ id, name }) => {\n    if (genre_ids.indexOf(id) !== -1) {\n      genres.push(name);\n    }\n  });\n  return genres.slice(0, 2).join(', ');\n  //return genres.join('');\n};\n\nconst createMovieDate = dateString => {\n  const date = new Date(dateString);\n  const year = date.getFullYear();\n  return year;\n};\n\nconst saveLocal = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  }\n};\n\nconst loadLocal = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n\nexport {\n  createDataCards,\n  createGenreStr,\n  createMovieDate,\n  saveLocal,\n  loadLocal,\n};\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"lp5u4\")).toString();","import { refs } from '../refs';\nimport { saveLocal } from './catalogUtils';\nimport svg from '../../../images/sprite.svg';\n\nexport default class Pagination {\n  constructor({ totalPages, page, parentSection }, getMovies, params = []) {\n    this.totalPages = totalPages;\n    this.currentPage = page;\n    this.parentSection = parentSection;\n    this.getMovies = getMovies;\n    this.params = params;\n    this.arrPaginationItems = [];\n  }\n\n  createButton = async () => {\n    if (this.totalPages <= 1) {\n      this.reset();\n      return;\n    }\n\n    this.arrPaginationItems = [];\n\n    if (this.currentPage <= 4) {\n      this.addFirstPages(this.arrPaginationItems);\n    }\n    if (this.currentPage > 9) {\n      this.addBeforeMiddlePages(this.arrPaginationItems);\n    }\n\n    if (this.totalPages > 6) {\n      if (this.currentPage >= 5)\n        this.addEllipsisIfNeeded(this.arrPaginationItems, true);\n      this.addMiddlePages(this.arrPaginationItems);\n      if (this.currentPage < this.totalPages - 4)\n        this.addEllipsisIfNeeded(this.arrPaginationItems, true);\n      this.addLastPage(this.arrPaginationItems);\n    }\n\n    const markup = this.createPagination(this.arrPaginationItems.join(''));\n    this.render(markup);\n    saveLocal('currentPage', this.currentPage);\n  };\n\n  addFirstPages = arr => {\n    for (let page = 1; page <= Math.min(3, this.totalPages); page++) {\n      const activeEl = this.currentPage === page ? 'btn-active' : '';\n      const btn = this.createPaginationItem('0' + page, activeEl);\n      arr.push(btn);\n    }\n  };\n\n  addBeforeMiddlePages = arr => {\n    const startPage = this.currentPage - 9;\n\n    console.log(startPage, this.currentPage - 5);\n\n    for (let page = startPage; page < this.currentPage - 5; page++) {\n      const activeEl = this.currentPage === page ? 'btn-active' : '';\n      let btn = [];\n      if (page <= 9) {\n        btn = this.createPaginationItem('0' + page, activeEl);\n      } else {\n        btn = this.createPaginationItem(page, activeEl);\n      }\n      arr.push(btn);\n    }\n  };\n\n  addMiddlePages = arr => {\n    const startPage = Math.max(4, this.currentPage - 2);\n    const endPage = Math.min(this.currentPage + 1, this.totalPages - 1);\n    for (let page = startPage; page <= endPage; page++) {\n      const activeEl = this.currentPage === page ? 'btn-active' : '';\n      let btn = [];\n      if (page <= 9) {\n        btn = this.createPaginationItem('0' + page, activeEl);\n      } else {\n        btn = this.createPaginationItem(page, activeEl);\n      }\n      arr.push(btn);\n    }\n  };\n\n  addEllipsisIfNeeded = (arr, atEnd = false) => {\n    arr.push('<li class=\"pagination-item ellipsis\">...</li>');\n  };\n\n  addLastPage = arr => {\n    const lastPage = this.totalPages;\n    const activeEl = this.currentPage === lastPage ? 'btn-active' : '';\n    const btn = this.createPaginationItem(lastPage, activeEl);\n    arr.push(btn);\n  };\n\n  createPaginationItem = (page, activeClass) => {\n    return `<li class='pagination-item ${activeClass}'>\n              <a href='#' data-page='${page}' class='pagination-btn'>${page}</a>\n            </li>`;\n  };\n\n  createPagination = paginationItems => {\n    const paginationContainer = `\n      <div class='pagination ${\n        this.totalPages <= 1 ? 'pagination-hidden' : ''\n      }'>\n      <button type=\"button\" class='pagination-arrow pagination-arrows-prev${\n        this.totalPages <= 1 ? 'pagination-arrows-hidden' : ''\n      }'><svg class=\"icon\" width=\"32\" height=\"32\">\n      <use href=\"${svg}#icon-arrow-prev\"></use>\n    </svg></button>\n        <ul class='pagination-list'>${paginationItems}</ul>\n        <button type=\"button\" class='pagination-arrow pagination-arrows-next${\n          this.totalPages <= 1 ? 'pagination-arrows-hidden' : ''\n        }'><svg class=\"icon\" width=\"32\" height=\"32\">\n        <use href=\"${svg}#icon-arrow-next\"></use>\n      </svg></button>\n      </div>`;\n    return paginationContainer;\n  };\n\n  render = pagination => {\n    this.reset();\n    refs.catalogFilms.insertAdjacentHTML('afterend', pagination);\n    const el = document.querySelector('.pagination');\n    const paginationContainer = document.querySelector('.pagination');\n\n    el.addEventListener('click', this.handlerBtn);\n    paginationContainer.addEventListener('click', this.arrowHandler);\n\n    const prevButton = document.querySelector(\n      '.pagination-arrow.pagination-arrows-prev'\n    );\n    if (this.currentPage === 1) {\n      prevButton.style.display = 'none';\n    } else {\n      prevButton.style.display = 'block';\n    }\n\n    const nextButton = document.querySelector(\n      '.pagination-arrow.pagination-arrows-next'\n    );\n    if (this.currentPage === this.totalPages) {\n      nextButton.style.display = 'none';\n    } else {\n      nextButton.style.display = 'block';\n    }\n  };\n\n  arrowHandler = e => {\n    const targetEl = e.target;\n\n    if (targetEl.classList.contains('pagination-arrows-prev')) {\n      this.prev();\n    }\n    if (targetEl.classList.contains('pagination-arrows-next')) {\n      this.next();\n    }\n  };\n\n  reset = () => {\n    const el = document.querySelector('.pagination');\n    if (el) el.remove();\n  };\n\n  scrollToTop = () => {\n    if (this.parentSection !== undefined) {\n      this.parentSection.scrollIntoView({\n        behavior: 'instant',\n      });\n    }\n    return;\n  };\n\n  prev = async () => {\n    if (this.currentPage === 1) return;\n    this.currentPage -= 1;\n    this.createButton();\n    await this.getMovies(this.currentPage, ...this.params);\n    this.scrollToTop();\n\n    const prevButton = document.querySelector(\n      '.pagination-arrow.pagination-arrows-prev'\n    );\n    if (this.currentPage === 1) {\n      prevButton.style.display = 'none';\n    } else {\n      prevButton.style.display = 'block';\n    }\n  };\n\n  next = async () => {\n    if (this.currentPage === this.totalPages) return;\n    this.currentPage += 1;\n    this.createButton();\n    await this.getMovies(this.currentPage, ...this.params);\n    this.scrollToTop();\n\n    const nextButton = document.querySelector(\n      '.pagination-arrow.pagination-arrows-next'\n    );\n    if (this.currentPage === this.totalPages) {\n      nextButton.style.display = 'none';\n    } else {\n      nextButton.style.display = 'block';\n    }\n  };\n\n  updatePage(page) {\n    this.currentPage = page;\n    this.createButton();\n  }\n\n  handlerBtn = async e => {\n    e.preventDefault();\n    const page = parseInt(e.target.dataset.page);\n    if (!isNaN(page)) {\n      this.currentPage = page;\n      this.createButton();\n\n      await this.getMovies(this.currentPage, ...this.params);\n      this.scrollToTop();\n    }\n  };\n}\n","import Pagination from './pagination';\nimport { getByQuery } from '../api';\nimport { createDataCards, loadLocal } from './catalogUtils';\nimport axios from 'axios';\nimport { refs } from '../refs';\nimport { onLoader, removeLoader } from '../loader';\n\nconst API_KEY = '88b8a7c5d221d3120fb29d734050dc7d';\n\nasync function fetchData(url) {\n  try {\n    onLoader();\n    const data = await axios.get(url);\n    removeLoader();\n    return data;\n  } catch (error) {\n    removeLoader();\n    return null;\n  }\n}\n\nexport const getMoviesByQuery = async (\n  searchTerm,\n  chosenPage = 1,\n  date = ''\n) => {\n  refs.selectGenres.disabled = true;\n  refs.selectDate.disabled = false;\n  const { results, total_pages, page } = await getByQuery(\n    searchTerm,\n    chosenPage,\n    date\n  );\n  createDataCards(results);\n  return {\n    results,\n    total_pages,\n    page,\n  };\n};\n\nexport const showNewestMovies = async (chosenPage, genre_id = 0) => {\n  refs.selectGenres.disabled = false;\n  refs.selectDate.disabled = true;\n\n  const { data } = await fetchData(\n    `https://api.themoviedb.org/3/movie/now_playing?api_key=${API_KEY}&page=${chosenPage}${\n      genre_id ? `&with_genres=${genre_id}` : ''\n    }&language=en-US`\n  );\n  const { results, page, total_pages } = data;\n  createDataCards(results);\n  return {\n    results,\n    page,\n    total_pages,\n  };\n};\n\nexport const fetchGenre = async () => {\n  const { data } = await axios.get(\n    `https://api.themoviedb.org/3/genre/movie/list?api_key=${API_KEY}`\n  );\n  const { genres } = data;\n  return genres;\n};\n","import { refs } from '../refs';\nimport { fetchGenre, getMoviesByQuery, showNewestMovies } from './catalogApi';\nimport { createDataCards, loadLocal, saveLocal } from './catalogUtils';\nimport Pagination from './pagination';\n\nconst searchForm = document.querySelector('.search-form');\nconst selectGenres = document.querySelector('#selectGenres');\nconst selectDate = document.querySelector('#selectDate');\n\nconst submitHandler = e => {\n  e.preventDefault();\n  const formData = new FormData(e.target);\n  const { searchMovies } = Object.fromEntries(formData.entries());\n  if (!searchMovies.length) {\n    afterLoad();\n    return;\n  }\n  saveLocal('searchTerm', searchMovies);\n  afterSearching(searchMovies);\n};\n\nconst afterLoad = async () => {\n  const { page, total_pages } = await showNewestMovies(1);\n  const objPagOptions = {\n    totalPages: total_pages,\n    page: page,\n    parentSection: refs.catalogSection,\n  };\n  const pagination = new Pagination(objPagOptions, showNewestMovies);\n  pagination.createButton();\n};\n\nconst afterSearching = async searchMovies => {\n  const searchTerm = loadLocal('searchTerm');\n  const { page, total_pages } = await getMoviesByQuery(1, searchTerm);\n\n  const objPagOptions = {\n    totalPages: total_pages,\n    page: page,\n    parentSection: refs.catalogSection,\n  };\n\n  const pagination = new Pagination(objPagOptions, getMoviesByQuery, [\n    searchTerm,\n    1,\n  ]);\n  pagination.createButton();\n  selectDate.removeAttribute('disabled');\n};\n\nconst filterSelectOptions = async () => {\n  const genres = await fetchGenre();\n  let arrOptions = genres.map(option => {\n    return `<option value=\"${option.id}\">${option.name}</option>`;\n  });\n  arrOptions.unshift(`<option value='all'>All</option>`);\n  selectGenres.innerHTML = arrOptions.join('');\n  selectGenres.removeAttribute('disabled');\n};\n\nconst setGenreFilter = async e => {\n  const value = e.target.value;\n\n  const { total_pages } = await showNewestMovies(1, e.target.value);\n  const objPagOptions = {\n    totalPages: total_pages,\n    page: 1,\n    parentSection: refs.catalogSection,\n  };\n  const pagination = new Pagination(objPagOptions, showNewestMovies, [value]);\n  pagination.createButton();\n};\n\nconst dateSelectOptions = () => {\n  const endDate = 1970;\n  const startDate = new Date().getFullYear();\n\n  const yearList = [];\n\n  for (let i = startDate; i >= endDate; i--) {\n    yearList.push(`<option value=\"${i}\">${i}</option>`);\n  }\n\n  selectDate.innerHTML = yearList.join('');\n};\n\nconst setDateFilter = async e => {\n  const value = e.target.value;\n  const searchTerm = loadLocal('searchTerm');\n\n  const { total_pages } = await getMoviesByQuery(1, searchTerm, value);\n\n  const objPagOptions = {\n    totalPages: total_pages,\n    page: 1,\n    parentSection: refs.catalogSection,\n  };\n\n  const pagination = new Pagination(objPagOptions, getMoviesByQuery, [\n    searchTerm,\n    value,\n  ]);\n  pagination.createButton();\n};\n\nsearchForm.addEventListener('submit', submitHandler);\nwindow.addEventListener('load', afterLoad);\n\nwindow.addEventListener('load', filterSelectOptions);\nwindow.addEventListener('load', dateSelectOptions);\n\nselectGenres.addEventListener('change', setGenreFilter);\nselectDate.addEventListener('change', setDateFilter);\nsearchForm.querySelector('input').addEventListener('input', e => {\n  const value = e.target.value;\n  selectGenres.disabled = true;\n  if (!value.length) selectGenres.disabled = false;\n});\n\nexport { createDataCards };\n","import { refs } from '../refs';\n\nrefs.btnClear.addEventListener('click', () => {\n  refs.input.value = '';\n});\n\nrefs.input.addEventListener('input', () => {\n  if (refs.input.value === '') {\n    refs.inputIcon.classList.add('icon-hidden');\n  } else {\n    refs.inputIcon.classList.remove('icon-hidden');\n  }\n});\n"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$97b4d273c2f21ef2$export$21666b427502ea6d","pagination","document","getElementById","catalogSection","querySelector","catalogFilms","searchForm","selectGenres","selectDate","btnClear","input","btnSearch","inputIcon","defineProperty","$da4b248c00322402$exports","value","default","obj","key","enumerable","configurable","writable","$900f3e5968da7b57$export$659b6b545718ce73","dataCard","errorModule","remove","markup","map","card","poster","title","genres","date","rating","join","errorMarkup","$900f3e5968da7b57$var$createSearchErrors","insertAdjacentHTML","innerHTML","cards","$80ce91662cd26072$export$f3fd225445632348","async","moviesData","genre","$df1db51f1d31cfcf$export$13a873f6c4b5d516","newCardsDate","poster_path","vote_average","genre_ids","release_date","$80ce91662cd26072$export$44f0485a2f926b66","$80ce91662cd26072$export$e57ec8acbf34a811","name","indexOf","push","slice","dateString","Date","getFullYear","$80ce91662cd26072$export$b38f1b11c5e38f18","serializedState","stringify","localStorage","setItem","error","console","message","$80ce91662cd26072$export$9f183916f445c495","getItem","undefined","$a4212a039eccdb43$exports","URL","resolve","import","meta","url","toString","$f2e078fcec063076$export$2e2bcd8739ae039","updatePage","page","this","currentPage","createButton","constructor","totalPages","page1","parentSection","getMovies","params","$parcel$interopDefault","reset","arrPaginationItems","addFirstPages","addBeforeMiddlePages","addEllipsisIfNeeded","addMiddlePages","addLastPage","createPagination","render","arr","Math","min","activeEl","btn","createPaginationItem","startPage","log","max","endPage","atEnd","lastPage","activeClass","paginationItems","el","paginationContainer","addEventListener","handlerBtn","arrowHandler","prevButton","style","display","nextButton","e","targetEl","target","classList","contains","prev","next","scrollIntoView","behavior","scrollToTop","preventDefault","parseInt","dataset","isNaN","$df1db51f1d31cfcf$export$4a3145eab4db56d2","searchTerm","chosenPage","disabled","results","total_pages","$19F3f","getByQuery","$df1db51f1d31cfcf$export$49f9e704d857526c","genre_id","data","$kHmXk","onLoader","$2shzp","get","removeLoader","$df1db51f1d31cfcf$var$fetchData","$e5c465ec961d44e9$var$searchForm","$e5c465ec961d44e9$var$selectGenres","$e5c465ec961d44e9$var$selectDate","$e5c465ec961d44e9$var$afterLoad","$e5c465ec961d44e9$var$afterSearching","searchMovies","removeAttribute","formData","FormData","fromEntries","entries","window","arrOptions","option","unshift","yearList","add"],"version":3,"file":"catalog.440d36a1.js.map"}