var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},a={},t=n.parcelRequire8a95;null==t&&((t=function(n){if(n in e)return e[n].exports;if(n in a){var t=a[n];delete a[n];var o={id:n,exports:{}};return e[n]=o,t.call(o.exports,o,o.exports),o.exports}var s=new Error("Cannot find module '"+n+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(n,e){a[n]=e},n.parcelRequire8a95=t),t("g7hbw");var o=t("19F3f");const s={openModal:document.querySelector("[data-modal-open]"),closeModal:document.querySelector("[data-modal-close]"),backdrop:document.querySelector("[data-modal]")};function c(){window.removeEventListener("keydown",i),s.backdrop.classList.add("is-hidden")}function i(n){"Escape"===n.code&&c()}s.openModal.addEventListener("click",(function(n){(async function(n){const e=await(0,o.getInfoByMovie)(n);console.log(e)})(n.target.closest("Li").dataset.id),window.addEventListener("keydown",i),s.backdrop.classList.remove("is-hidden")})),s.closeModal.addEventListener("click",c),s.backdrop.addEventListener("click",(function(n){n.currentTarget===n.target&&c()}));o=t("19F3f"),o=t("19F3f"),o=t("19F3f");const r=document.querySelector(".weekly-cards-wrap"),d=document.querySelector(".upcoming_wrap");async function l(n){const e=(await(0,o.getGenre)()).genres;return n.map((n=>{const a=e.find((e=>e.id===n));return a?a.name:""})).join(", ")}document.querySelector(".weekly-title-link").addEventListener("click",(()=>{location.href="catalog.html"})),window.addEventListener("DOMContentLoaded",(async function(){const{formattedStartDate:n,formattedEndDate:e}=function(){const n=new Date,e=n.getFullYear(),a=String(n.getMonth()+1).padStart(2,"0"),t=String(n.getDate()).padStart(2,"0"),o=`${e}-${a}-${t}`,s=new Date(e,a,1),c=new Date(s-1).getDate(),i=String(c).padStart(2,"0");return{formattedStartDate:o,formattedEndDate:`${e}-${a}-${i}`}}();try{const a=await(0,o.getUpcoming)(n,e);!async function(n){console.log(n);const{backdrop_path:e,genre_ids:a,popularity:t,release_date:o,title:s,vote_average:c,vote_count:i,overview:r}=n,p=await l(a),u=`<div class="upcoming-card">\n\n            <img class="upcoming-card-img" src="https://image.tmdb.org/t/p/original/${e}" alt=" " />\n\n          <div class="upcoming-card-wrap">\n            <h3 class="upcoming-card-title">${s}</h3>\n\n            <div class="upcoming-card-numbers-wrap-top">\n              <div class="upcoming-card-release-wrap">\n                <span class="upcoming-card-release-text">Release date</span>\n                <span class="upcoming-card-release-data">${o}</span>\n              </div>\n\n              <div class="upcoming-card-vote-wrap">\n                <div class="upcoming-card-vote"><span>Vote / Votes</span></div>\n                <div class="upcoming-card-vote-data">\n                  <span>${c}</span> / <span>${i}</span>\n                </div>\n              </div>\n            </div>\n\n            <div class="upcoming-card-numbers-wrap-down">\n              <div class="upcoming-card-popularity-wrap">\n                <span class="upcoming-card-popularity-text">Popularity</span>\n                <span class="upcoming-card-popularity-data">${t.toFixed(1)}</span>\n              </div>\n\n              <div class="upcoming-card-genre-wrap">\n                <span class="upcoming-card-genre-text">Genre</span>\n                <span class="upcoming-card-genre-data">${p}</span>\n              </div>\n            </div>\n\n            <span class="upcoming-card-about-title">About</span>\n\n            <p class="upcoming-card-about-text">${r}</p>\n\n            <button class="upcoming-button" type="button">\n              Add to my library\n            </button>\n          </div>\n        </div>`;d.insertAdjacentHTML("beforeend",u)}(function(n){const e=Math.floor(Math.random()*n.length);return n[e]}(a.results))}catch(n){console.log(n.message)}})),window.addEventListener("DOMContentLoaded",(async function(){!async function(n){const e=await Promise.all(n.map((async({backdrop_path:n,title:e,release_date:a,genre_ids:t,id:o,poster_path:s})=>{const c=await l(t);return console.log(c),`<li class="weekly-card" data-id=${o}>\n        <div class="weekly-container-image">\n          <img\n            class="weekly-card-image"\n           src="https://image.tmdb.org/t/p/original/${s}"\n            alt=""\n          />\n         <div class="overlay"></div>       \n        </div>\n        <div class="weekly-card-description">\n          <span class="weekly-card-description-title">${e}</span>\n          <span class="weekly-card-description-other">${c} | ${a.slice(0,4)}</span>\n        </div>\n        <div class="weekly-card-raiting">Stars5*</div>\n      </li>`})));r.innerHTML=e.join("")}((await(0,o.getWeeklyTrending)()).results.slice(0,3))})),t("7Yg6P"),t("2tESM");
//# sourceMappingURL=index.2590bd77.js.map
