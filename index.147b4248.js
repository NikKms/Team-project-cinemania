var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},t={},a=n.parcelRequire8a95;null==a&&((a=function(n){if(n in e)return e[n].exports;if(n in t){var a=t[n];delete t[n];var r={id:n,exports:{}};return e[n]=r,a.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(n,e){t[n]=e},n.parcelRequire8a95=a),a("g7hbw"),a("70ClL");var r=a("19F3f"),i=(a("19F3f"),r=a("19F3f"),a("cl7Eh"));const o=document.querySelector(".weekly-cards-wrap"),s=document.querySelector(".upcoming_wrap");document.querySelector(".weekly-title-link");let c=null;async function d(n){const e=(await(0,r.getGenre)()).genres;return n.map((n=>{const t=e.find((e=>e.id===n));return t?t.name:""})).join(", ")}function l(n){return n.length>2?n.slice(0,2):n}window.addEventListener("DOMContentLoaded",(async function(){const{formattedStartDate:n,formattedEndDate:e}=function(){const n=new Date,e=n.getFullYear(),t=String(n.getMonth()+1).padStart(2,"0"),a=String(n.getDate()).padStart(2,"0"),r=`${e}-${t}-${a}`,i=new Date(e,t,1),o=new Date(i-1).getDate(),s=String(o).padStart(2,"0");return{formattedStartDate:r,formattedEndDate:`${e}-${t}-${s}`}}();try{const t=await(0,r.getUpcoming)(n,e);!async function(n){let{backdrop_path:e,poster_path:t,genre_ids:a,popularity:r,release_date:o,title:p,vote_average:u,vote_count:g,overview:m}=n;console.log("upcomingFilm: ",n),a=l(a);const v=await d(a),f=window.innerWidth<767;const w=`<div class="upcoming-card">\n\n            <img class="upcoming-card-img" src="${function(n,e,t){return!0===t&&null!==e?`https://image.tmdb.org/t/p/original/${e}`:!1===t&&null!==n?`https://image.tmdb.org/t/p/original/${n}`:!1===t&&null===n&&null!==e?`https://image.tmdb.org/t/p/original/${e}`:!0===t&&null===e&&null!==n?`https://image.tmdb.org/t/p/original/${n}`:"https://d2ths1nqi4sbhh.cloudfront.net/images/no-image.png?v=3884857787"}(e,t,f)}" alt=" " />\n\n          <div class="upcoming-card-wrap">\n            <h3 class="upcoming-card-title">${p}</h3>\n\n            <div class="upcoming-card-numbers-wrap-top">\n              <div class="upcoming-card-release-wrap">\n                <span class="upcoming-card-release-text">Release date</span>\n                <span class="upcoming-card-release-data">${o}</span>\n              </div>\n\n              <div class="upcoming-card-vote-wrap">\n                <div class="upcoming-card-vote"><span>Vote / Votes</span></div>\n                <div class="upcoming-card-vote-data">\n                  <span>${u}</span> / <span>${g}</span>\n                </div>\n              </div>\n            </div>\n\n            <div class="upcoming-card-numbers-wrap-down">\n              <div class="upcoming-card-popularity-wrap">\n                <span class="upcoming-card-popularity-text">Popularity</span>\n                <span class="upcoming-card-popularity-data">${r.toFixed(1)}</span>\n              </div>\n\n              <div class="upcoming-card-genre-wrap">\n                <span class="upcoming-card-genre-text">Genre</span>\n                <span class="upcoming-card-genre-data">${v}</span>\n              </div>\n            </div>\n \n            <span class="upcoming-card-about-title">About</span>\n\n            <p class="upcoming-card-about-text">${m}</p>\n\n            <button class="upcoming-button" id="add-to-lib" type="button">\n              Add to my library\n            </button>\n          </div>\n        </div>`;s.insertAdjacentHTML("beforeend",w),c=document.getElementById("add-to-lib");const y=e=>{(0,i.addFilmToStorage)(n)};c.addEventListener("click",y)}(function(n){const e=Math.floor(Math.random()*n.length);return n[e]}(t.results))}catch(n){s.insertAdjacentHTML("beforeend",'<p class="upcoming-not-found">OOPS...We are very sorry! We donâ€™t have any results</p>')}})),window.addEventListener("DOMContentLoaded",(async function(){!async function(n){console.log(n);const e=await Promise.all(n.map((async({backdrop_path:n,title:e,release_date:t,genre_ids:a,id:r,poster_path:i,name:o,first_air_date:s,vote_average:c})=>{a=l(a);return`<li class="weekly-card is-id" data-id=${r}>\n        <div class="weekly-container-image">\n          <img\n            class="weekly-card-image"\n           src="https://image.tmdb.org/t/p/original/${i}"\n            alt=""\n          />\n         <div class="overlay"></div>       \n        </div>\n  <div class="weekly-card-description">\n    <h3 class="weekly-card-description-title">${e||o}</h3>\n    <div class='weekly-card-description-wrap'>\n       <p class="weekly-card-description-other">${await d(a)} | ${t?t.substring(0,4):s.substring(0,4)}</p>\n\n     <div class="Stars" style="--rating: ${parseFloat((c/2).toFixed(1))};" aria-label="Rating of this product is 2.3 out of 5."></div>\n      </div>\n  </div>\n      </li>`})));o.innerHTML=e.join("")}((await(0,r.getWeeklyTrending)()).results.slice(0,3))})),a("7Yg6P"),a("2tESM"),refs={footerLink:document.querySelector(".footer-link"),closeButton:document.querySelector(".close-button-team"),backdropTeam:document.querySelector(".backdrop-team")};
//# sourceMappingURL=index.147b4248.js.map
