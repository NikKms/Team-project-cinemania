var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},e={},t=n.parcelRequire8a95;null==t&&((t=function(n){if(n in a)return a[n].exports;if(n in e){var t=e[n];delete e[n];var s={id:n,exports:{}};return a[n]=s,t.call(s.exports,s,s.exports),s.exports}var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(n,a){e[n]=a},n.parcelRequire8a95=t),t("g7hbw"),t("70ClL");var s=t("19F3f");t("19F3f"),s=t("19F3f");const i=document.querySelector(".weekly-cards-wrap"),r=document.querySelector(".upcoming_wrap");async function o(n){const a=(await(0,s.getGenre)()).genres;return n.map((n=>{const e=a.find((a=>a.id===n));return e?e.name:""})).join(", ")}document.querySelector(".weekly-title-link").addEventListener("click",(()=>{location.href="catalog.html"})),window.addEventListener("DOMContentLoaded",(async function(){const{formattedStartDate:n,formattedEndDate:a}=function(){const n=new Date,a=n.getFullYear(),e=String(n.getMonth()+1).padStart(2,"0"),t=String(n.getDate()).padStart(2,"0"),s=`${a}-${e}-${t}`,i=new Date(a,e,1),r=new Date(i-1).getDate(),o=String(r).padStart(2,"0");return{formattedStartDate:s,formattedEndDate:`${a}-${e}-${o}`}}();try{const e=await(0,s.getUpcoming)(n,a);!async function(n){const{backdrop_path:a,genre_ids:e,popularity:t,release_date:s,title:i,vote_average:c,vote_count:d,overview:l}=n,p=await o(e),u=`<div class="upcoming-card">\n\n            <img class="upcoming-card-img" src="https://image.tmdb.org/t/p/original/${a}" alt=" " />\n\n          <div class="upcoming-card-wrap">\n            <h3 class="upcoming-card-title">${i}</h3>\n\n            <div class="upcoming-card-numbers-wrap-top">\n              <div class="upcoming-card-release-wrap">\n                <span class="upcoming-card-release-text">Release date</span>\n                <span class="upcoming-card-release-data">${s}</span>\n              </div>\n\n              <div class="upcoming-card-vote-wrap">\n                <div class="upcoming-card-vote"><span>Vote / Votes</span></div>\n                <div class="upcoming-card-vote-data">\n                  <span>${c}</span> / <span>${d}</span>\n                </div>\n              </div>\n            </div>\n\n            <div class="upcoming-card-numbers-wrap-down">\n              <div class="upcoming-card-popularity-wrap">\n                <span class="upcoming-card-popularity-text">Popularity</span>\n                <span class="upcoming-card-popularity-data">${t.toFixed(1)}</span>\n              </div>\n\n              <div class="upcoming-card-genre-wrap">\n                <span class="upcoming-card-genre-text">Genre</span>\n                <span class="upcoming-card-genre-data">${p}</span>\n              </div>\n            </div>\n \n\n            <span class="upcoming-card-about-title">About</span>\n\n            <p class="upcoming-card-about-text">${l}</p>\n\n            <button class="upcoming-button" type="button">\n              Add to my library\n            </button>\n          </div>\n        </div>`;r.insertAdjacentHTML("beforeend",u)}(function(n){const a=Math.floor(Math.random()*n.length);return n[a]}(e.results))}catch(n){console.log(n.message)}})),window.addEventListener("DOMContentLoaded",(async function(){const n=(await(0,s.getWeeklyTrending)()).results.slice(0,3);console.log(n),async function(n){console.log(n);const a=await Promise.all(n.map((async({backdrop_path:n,title:a,release_date:e,genre_ids:t,id:s,poster_path:i,name:r,first_air_date:c,vote_average:d})=>`<li class="weekly-card" >\n        <div class="weekly-container-image">\n          <img\n            class="weekly-card-image"\n           src="https://image.tmdb.org/t/p/original/${i}"\n            alt=""\n          />\n         <div class="overlay is-id" data-id=${s}></div>       \n        </div>\n        <ul class="weekly-card-description">\n        <li><span class="weekly-card-description-title">${a||r}</span>\n          <span class="weekly-card-description-other">${await o(t)} | ${e?e.substring(0,4):c.substring(0,4)}</span>\n        </li>\n         <li class="Stars" style="--rating: ${parseFloat((d/2).toFixed(1))};" aria-label="Rating of this product is 2.3 out of 5."></li> \n        </ul>\n        \n      </li>`)));i.innerHTML=a.join("")}(n)})),t("7Yg6P"),t("2tESM");
//# sourceMappingURL=index.09444bda.js.map
