function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},s=t.parcelRequire8a95;null==s&&((s=function(e){if(e in n)return n[e].exports;if(e in i){var t=i[e];delete i[e];var s={id:e,exports:{}};return n[e]=s,t.call(s.exports,s,s.exports),s.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){i[e]=t},t.parcelRequire8a95=s),s("g7hbw"),s("7Yg6P");var a=s("19F3f");(0,(a=s("19F3f")).getTrending)().then((e=>localStorage.setItem("test",JSON.stringify(e.results))));const l=(()=>{try{const e=localStorage.getItem("test");return JSON.parse(e)}catch(e){console.error(e)}})(),r=l.flatMap((({genre_ids:e})=>e)),o={libSelectEl:document.getElementById("js-genre-select"),libMoviesListEl:document.getElementById("js-lib-list"),libLoadMoreBtn:document.getElementById("js-loadMore-btn")},{libSelectEl:d,libMoviesListEl:c,libLoadMoreBtn:u}=o,b=e=>{const t=e.map((e=>(e=>`<option value="${e.id}">${e.name}</option>`)(e)));d.insertAdjacentHTML("beforeend",t.join(" "))},g=async e=>{const t=await Promise.all(e.map((async e=>await(async({title:e,name:t,release_date:n,first_air_date:i,genre_ids:s,poster_path:a,vote_average:l})=>{const r=e||t;return` <li class="mylibrary_movie is-id">\n  <div class="mylibrary_poster">\n  <img src="https://image.tmdb.org/t/p/original${a}" alt="${r}" />\n      <div class="mylibrary_move_dark"></div>\n  </div>\n  <h3 class="mylibrary_movies_name">${r}</h3>\n  <p class="mylibrary_genre_movie">${await L(s)} | ${(n||i).substring(0,4)}</p>\n  <div class="hero-star-raiting" data-swiper-parallax="-350">\n      <span>\n          <div class="Stars" style="--rating: ${l/2}; " aria-label="Rating of this product is ${(l/2).toFixed(1)} out of 5.">\n      </span>\n  </div>\n</li>`})(e))));c.insertAdjacentHTML("beforeend",t.join(" "))};var f={};Object.defineProperty(f,"__esModule",{value:!0}),f.default=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e};class m{getBtn(e){return document.querySelector(e)}hideBtn(){this.button.classList.add(m.classes.hidden)}showBtn(){this.button.classList.remove(m.classes.hidden)}disableBtn(){this.button.disabled=!0,this.button.textContent="Loading..."}enableBtn(){this.button.disabled=!1,this.button.textContent="Load more"}constructor({btnEl:e,isHidden:t=!1}){this.button=e,t&&this.hideBtn()}}e(f)(m,"classes",{hidden:"lib-btn-hidden"});const{libSelectEl:p,libMoviesListEl:h,libLoadMoreBtn:v}=o,y=new m({btnEl:v});let _="1";let w=0;const E=async e=>{const{genres:t}=await(0,a.getGenre)();return t.filter((({id:t})=>e.includes(t)))},L=async e=>(await E(e)).map((({name:e})=>e)).slice(0,2).join(", "),B=async e=>{const t=await E(e);b(t)},M=e=>{const t=e.slice(w,w+9);w+=9,g(t)},j=e=>{S(e)},S=e=>{if("1"===e)M(l),x(l);else{const t=l.filter((({genre_ids:t})=>t.includes(parseInt(e))));M(t),x(t)}},x=e=>{e.length<=w?y.hideBtn():y.showBtn()},$=()=>{h.innerHTML=""};p.addEventListener("change",(()=>{_=p.value,w=0,$(),j(_)})),window.addEventListener("load",(async()=>{await B(r),M(l)})),v.addEventListener("click",(()=>{y.disableBtn(),j(_),y.enableBtn()})),s("2tESM");
//# sourceMappingURL=my-lib-page.bfd50229.js.map
