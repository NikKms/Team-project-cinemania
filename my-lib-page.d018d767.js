function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},s=t.parcelRequire8a95;null==s&&((s=function(e){if(e in n)return n[e].exports;if(e in i){var t=i[e];delete i[e];var s={id:e,exports:{}};return n[e]=s,t.call(s.exports,s,s.exports),s.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){i[e]=t},t.parcelRequire8a95=s),s("g7hbw"),s("7Yg6P"),s("70ClL");var a=s("19F3f"),l=s("cl7Eh");const r={libSelectEl:document.getElementById("js-genre-select"),libMoviesListEl:document.getElementById("js-lib-list"),libLoadMoreBtn:document.getElementById("js-loadMore-btn"),libClearBtn:document.getElementById("clear-lib-btn"),libContainerEL:document.getElementById("lib-container-el")},{libSelectEl:o,libMoviesListEl:d}=r,c=async e=>{const t=await Promise.all(e.map((e=>(e=>`<option class="option-item" value="${e.id}">${e.name}</option>`)(e))));o.insertAdjacentHTML("beforeend",t.join(" "))},b=async e=>{const t=await Promise.all(e.map((async e=>await(async({title:e,name:t,release_date:n,first_air_date:i,genresIds:s,poster_path:a,vote_average:l,id:r})=>{const o=e||t;let d;return d=null!==a?`https://image.tmdb.org/t/p/original/${a}`:"https://d2ths1nqi4sbhh.cloudfront.net/images/no-image.png?v=3884857787",`<li class="mylibrary_movie is-id"  data-id=${r}>\n  <div class="mylibrary_dark">\n  <img loading="lazy" src="https://image.tmdb.org/t/p/original${a}" alt="${o}" />\n  </div>\n <div class="mylibrary_overlay"></div>\n  <div class="mylibrary_info">\n  <h3 class="mylibrary_movies_name">${o}</h3>\n  <p class="mylibrary_genre_movie">${await B(s)} | ${(n||i).substring(0,4)}</p>\n  </div>\n<div class="hero_star_raiting">\n <span>\n<div class="Stars thisstars" style="--rating: ${l/2}; " aria-label="Rating of this product is ${(l/2).toFixed(1)} out of 5."></div>\n  </div>\n  </span>   \n  </li>`})(e))));d.insertAdjacentHTML("beforeend",t.join(" "))};var u={};Object.defineProperty(u,"__esModule",{value:!0}),u.default=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e};class m{getBtn(e){return document.querySelector(e)}hideBtn(){this.button.classList.add(m.classes.hidden)}showBtn(){this.button.classList.remove(m.classes.hidden)}disableBtn(){this.button.disabled=!0,this.button.textContent="Loading..."}enableBtn(){this.button.disabled=!1,this.button.textContent="Load more"}constructor({btnEl:e,isHidden:t=!1}){this.button=e,t&&this.hideBtn()}}e(u)(m,"classes",{hidden:"lib-btn-hidden"});var h=s("7Y9D8");const{libSelectEl:g,libMoviesListEl:y,libLoadMoreBtn:v,libClearBtn:p,libContainerEL:f}=r,L=new m({btnEl:v});let E="1";let w=0;const _=async e=>{const{genres:t}=await(0,a.getGenre)();return t.filter((({id:t})=>e.includes(t)))},B=async e=>(await _(e)).map((({name:e})=>e)).slice(0,2).join(", "),M=async e=>{const t=await _(e);c(t)},j=e=>{const t=e.slice(w,w+9);w+=9,b(t)},$=e=>{F(e)},F=e=>{if("1"===e)j(l.parsedFilms),I(l.parsedFilms);else{const t=l.parsedFilms.filter((t=>t.genresIds.includes(parseInt(e))));j(t),I(t)}},I=e=>{e.length<=w?L.hideBtn():L.showBtn()},T=()=>{y.innerHTML=""},S=()=>{f.insertAdjacentHTML("beforeend",'<h2 class="lib-empty-message">OOOPS...<br>We are very sorry!<br>You don\'t have any movies at your library.</h2>\n  <a class="lib-link-search" href="./catalog.html"> Search movie</a>')};g.addEventListener("change",(()=>{E=g.value,w=0,T(),$(E)})),window.addEventListener("load",(()=>{if(!l.parsedFilms.length)return f.innerHTML="",void S();M(l.parsedFilmsGenreIds),j(l.parsedFilms),I(l.parsedFilms)})),v.addEventListener("click",(()=>{L.disableBtn(),$(E),L.enableBtn()})),p.addEventListener("click",(()=>{localStorage.removeItem("films"),f.innerHTML="",S(),h.Notify.success("Library was cleared succesfully")})),s("2tESM"),s("hwTRf");
//# sourceMappingURL=my-lib-page.d018d767.js.map
