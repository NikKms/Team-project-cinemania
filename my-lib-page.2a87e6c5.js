!function(){function e(e){return e&&e.__esModule?e.default:e}function t(e,t,n,a){Object.defineProperty(e,t,{get:n,set:a,enumerable:!0,configurable:!0})}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},r={},o=n.parcelRequire8a95;null==o&&((o=function(e){if(e in a)return a[e].exports;if(e in r){var t=r[e];delete r[e];var n={id:e,exports:{}};return a[e]=n,t.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},n.parcelRequire8a95=o),o.register("1TFAy",(function(t,n){var a=o("bpxeT"),r=o("2TvXO"),i=o("i6wQM"),d=o("jyO6b"),s=(d=o("jyO6b"),o("kaqNk"));o("6mrnL");var c=o("kMKXw"),l={openModal:document.querySelector("[data-modal-open]"),closeModal:document.querySelector("[data-modal-close]"),backdrop:document.querySelector("[data-modal]"),upcomingWrapLi:document.querySelector(".modal-info"),addToLibBtn:null};function u(){window.removeEventListener("keydown",p),window.location.href.includes("my-lib-page.html")||i.swiper.autoplay.start(),document.body.classList.remove("not-scroll-body"),l.backdrop.classList.add("is-hidden")}function p(e){"Escape"===e.code&&u()}function m(){return(m=e(a)(e(r).mark((function t(n){return e(r).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.getInfoByMovie)(n);case 2:f(e.sent);case 4:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function f(e){return g.apply(this,arguments)}function g(){return(g=e(a)(e(r).mark((function t(n){var a,o,i,d,u,p,m,f,g,v,b,y,h,w;return e(r).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),a=n.poster_path,o=n.backdrop_path,i=n.genres,d=n.overview,u=n.popularity,p=n.title,m=n.vote_average,f=n.vote_count,g=n.id,console.log("poster_path: ",a),v=i.map((function(e){return e.id})),e.next=6,(0,c.getGenresByIds)(v);case 6:b=e.sent,y="",y=null!==a?"https://image.tmdb.org/t/p/original/".concat(a):null!==o?"https://image.tmdb.org/t/p/original/".concat(o):"https://d2ths1nqi4sbhh.cloudfront.net/images/no-image.png?v=3884857787",h='\n    <div class="modal-card">\n      <img\n        class="modal-img"\n        src="'.concat(y,'"\n        alt=" "\n      />\n\n      <div class="modal-card-wrap">\n        <h3 class="modal-card-title">').concat(p,'</h3>\n\n          <div class="modal-card-vote-wrap">\n            <div class="modal-card-vote color-description"><span>Vote / Votes</span></div>\n            <div class="modal-card-vote-data">\n              <span>').concat(m.toFixed(1),"</span> / <span>").concat(f,'</span>\n            </div>\n          </div>\n        \n          <div class="modal-card-popularity-wrap">\n            <span class="modal-card-popularity-text color-description">Popularity</span>\n            <span class="modal-card-popularity-data"\n              >').concat(u.toFixed(1),'</span\n            >\n          </div>\n\n          <div class="modal-card-genre-wrap">\n            <span class="modal-card-genre-text color-description">Genre</span>\n            <span class="modal-card-genre-data">').concat(b,'</span>\n          </div>\n        \n        <span class="modal-card-about-title color-description">About</span>\n\n        <p class="modal-card-about-text">').concat(d,'</p>\n\n        <button class="modal-button gap-right" id="add-to-lib-modal" type="button"><span>Add to my library</span></button>\n         <button type="button" class="hero-btn modal-button hero-btn-trailer" id="hero-btn-trailer" data-id="').concat(g,'">\n    Watch trailer\n  </button>\n      </div>\n    </div>'),l.upcomingWrapLi.innerHTML=h,l.addToLibBtn=document.getElementById("add-to-lib-modal"),console.log("addToLibBtn: ",l.addToLibBtn),w=function(e){(0,s.addFilmToStorage)(n)},l.addToLibBtn.addEventListener("click",w);case 15:case"end":return e.stop()}}),t)})))).apply(this,arguments)}document.addEventListener("click",(function(e){var t=e.target.closest(".is-id");if(null===t)return;(function(e){m.apply(this,arguments)})(t.dataset.id),window.location.href.includes("my-lib-page.html")||i.swiper.autoplay.stop();document.body.classList.add("not-scroll-body"),window.addEventListener("keydown",p),l.backdrop.classList.remove("is-hidden")})),l.closeModal.addEventListener("click",u),l.backdrop.addEventListener("click",(function(e){e.currentTarget===e.target&&u()}))})),o.register("kaqNk",(function(n,a){t(n.exports,"addFilmToStorage",(function(){return s})),t(n.exports,"parsedFilms",(function(){return c})),t(n.exports,"parsedFilmsGenreIds",(function(){return l}));var r=o("8nrFW"),i=o("6JpON"),d=JSON.parse(localStorage.getItem("films"))||[],s=function(e){var t=e.poster_path,n=e.title,a=e.name,r=e.first_air_date,o=e.release_date,s=e.vote_average,c=e.id,l=e.genres,u=e.genre_ids,p=l&&l.length>0?l.map((function(e){return e.id})):u;if(!d.some((function(e){return e.id===c})))return d.unshift({poster_path:t,title:n,name:a,first_air_date:r,release_date:o,vote_average:s,id:c,genresIds:p}),localStorage.setItem("films",JSON.stringify(d)),void i.Report.success("Film was added to the library","Go to the library and check it :)");i.Report.failure("Is added already","Sorry, but you've already added this film to your library ")},c=function(){try{var e=localStorage.getItem("films");return JSON.parse(e)||[]}catch(e){console.error(e)}}(),l=e(r)(new Set(c.flatMap((function(e){return e.genresIds}))));console.log("parsedFilmsGenreIds: ",l)})),o.register("kMKXw",(function(n,a){t(n.exports,"getGenresByIds",(function(){return s}));var r=o("bpxeT"),i=o("2TvXO"),d=o("jyO6b");function s(e){return c.apply(this,arguments)}function c(){return(c=e(r)(e(i).mark((function t(n){var a,r,o;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.getGenre)();case 2:return a=e.sent,r=a.genres,o=n.map((function(e){var t=r.find((function(t){return t.id===e}));return t?t.name:""})),e.abrupt("return",o.join(", "));case 6:case"end":return e.stop()}}),t)})))).apply(this,arguments)}}))}();
//# sourceMappingURL=my-lib-page.2a87e6c5.js.map
