function e(e,t,n,a){Object.defineProperty(e,t,{get:n,set:a,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},o=t.parcelRequire8a95;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){a[e]=t},t.parcelRequire8a95=o),o.register("70ClL",(function(e,t){var n=o("g7hbw"),a=o("19F3f"),r=(a=o("19F3f"),o("cl7Eh"));o("kEbcv");var d=o("2qgck");const s={openModal:document.querySelector("[data-modal-open]"),closeModal:document.querySelector("[data-modal-close]"),backdrop:document.querySelector("[data-modal]"),upcomingWrapLi:document.querySelector(".modal-info"),addToLibBtn:null};function i(){window.removeEventListener("keydown",l),window.location.href.includes("my-lib-page.html")||n.swiper.autoplay.start(),document.body.classList.remove("not-scroll-body"),s.backdrop.classList.add("is-hidden")}function l(e){"Escape"===e.code&&i()}document.addEventListener("click",(function(e){const t=e.target.closest(".is-id");if(null===t)return;(async function(e){!async function(e){console.log(e);const{poster_path:t,backdrop_path:n,genres:a,overview:o,popularity:i,title:l,vote_average:c,vote_count:p,id:u}=e;console.log("poster_path: ",t);const m=a.map((e=>e.id)),g=await(0,d.getGenresByIds)(m);let f="";f=null!==t?`https://image.tmdb.org/t/p/original/${t}`:null!==n?`https://image.tmdb.org/t/p/original/${n}`:"https://d2ths1nqi4sbhh.cloudfront.net/images/no-image.png?v=3884857787";const b=`\n    <div class="modal-card">\n      <img\n        class="modal-img"\n        src="${f}"\n        alt=" "\n      />\n\n      <div class="modal-card-wrap">\n        <h3 class="modal-card-title">${l}</h3>\n\n          <div class="modal-card-vote-wrap">\n            <div class="modal-card-vote color-description"><span>Vote / Votes</span></div>\n            <div class="modal-card-vote-data">\n              <span>${c.toFixed(1)}</span> / <span>${p}</span>\n            </div>\n          </div>\n        \n          <div class="modal-card-popularity-wrap">\n            <span class="modal-card-popularity-text color-description">Popularity</span>\n            <span class="modal-card-popularity-data"\n              >${i.toFixed(1)}</span\n            >\n          </div>\n\n          <div class="modal-card-genre-wrap">\n            <span class="modal-card-genre-text color-description">Genre</span>\n            <span class="modal-card-genre-data">${g}</span>\n          </div>\n        \n        <span class="modal-card-about-title color-description">About</span>\n\n        <p class="modal-card-about-text">${o}</p>\n\n        <button class="modal-button gap-right" id="add-to-lib-modal" type="button"><span>Add to my library</span></button>\n         <button type="button" class="hero-btn modal-button hero-btn-trailer" id="hero-btn-trailer" data-id="${u}">\n    Watch trailer\n  </button>\n      </div>\n    </div>`;s.upcomingWrapLi.innerHTML=b,s.addToLibBtn=document.getElementById("add-to-lib-modal"),console.log("addToLibBtn: ",s.addToLibBtn);const v=t=>{(0,r.addFilmToStorage)(e)};s.addToLibBtn.addEventListener("click",v)}(await(0,a.getInfoByMovie)(e))})(t.dataset.id),window.location.href.includes("my-lib-page.html")||n.swiper.autoplay.stop();document.body.classList.add("not-scroll-body"),window.addEventListener("keydown",l),s.backdrop.classList.remove("is-hidden")})),s.closeModal.addEventListener("click",i),s.backdrop.addEventListener("click",(function(e){e.currentTarget===e.target&&i()}))})),o.register("cl7Eh",(function(t,n){e(t.exports,"addFilmToStorage",(function(){return d})),e(t.exports,"parsedFilms",(function(){return s})),e(t.exports,"parsedFilmsGenreIds",(function(){return i}));var a=o("7Y9D8");const r=JSON.parse(localStorage.getItem("films"))||[],d=({poster_path:e,title:t,name:n,first_air_date:o,release_date:d,vote_average:s,id:i,genres:l,genre_ids:c})=>{const p=l&&l.length>0?l.map((e=>e.id)):c;if(!r.some((e=>e.id===i)))return r.unshift({poster_path:e,title:t,name:n,first_air_date:o,release_date:d,vote_average:s,id:i,genresIds:p}),localStorage.setItem("films",JSON.stringify(r)),void a.Report.success("Film was added to the library","Go to the library and check it :)");a.Report.failure("Is added already","Sorry, but you've already added this film to your library ")},s=(()=>{try{const e=localStorage.getItem("films");return JSON.parse(e)||[]}catch(e){console.error(e)}})(),i=[...new Set(s.flatMap((e=>e.genresIds)))];console.log("parsedFilmsGenreIds: ",i)})),o.register("2qgck",(function(t,n){e(t.exports,"getGenresByIds",(function(){return r}));var a=o("19F3f");async function r(e){const t=(await(0,a.getGenre)()).genres;return e.map((e=>{const n=t.find((t=>t.id===e));return n?n.name:""})).join(", ")}}));
//# sourceMappingURL=my-lib-page.96be149c.js.map
